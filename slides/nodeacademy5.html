<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Node Academy 5 | "shallow inside meteor"</title>
  <meta name="viewport" content="width=1024, user-scalable=no">

  <!-- Replace path with correct path to deck.core.css. -->
  <link rel="stylesheet" href="../public/stylesheets/deck.core.css" type="text/css">

  <!-- Any other extension CSS files go here. -->
  <link rel="stylesheet" id="style-theme-link" href="../public/themes/style/neon.css">
  <link rel="stylesheet" id="transition-theme-link" href="../public/themes/transition/horizontal-slide.css">

  <link rel="stylesheet" id="shjs-link" href="../public/stylesheets/sh_style.css">

  <link rel="stylesheet" href="../public/stylesheets/style.css" type="text/css">
  <link rel="stylesheet" id="transition-theme-link" href="../public/extensions/status/deck.status.css">
  <link rel="stylesheet" id="transition-theme-link" href="../public/extensions/menu/deck.menu.css">
  <!-- Replace path with correct path to Modernizr file. -->
  <script src="../public/javascripts/modernizr.custom.js"></script>
</head>
<body class="deck-container">

<!-- Create any number of elements with class slide within the container -->
<style>
#uri { font-size: 300%; }
</style>
<section class="slide">
  <h1 id="uri"><a href="http://jxck.node-ninja.com/">http://jxck.node-ninja.com/</a></h1>
</section>

<section class="slide">
  <h1>Shallow inside Meteor<p class="small">@node academy 5</p></h1>
</section>

<section class="slide">
  <!-- Slide content HTML goes here! -->
  <p id="icon">Jack</p>
</section>

<section class="slide">
  <h2>about me</h2>
  <h3>Jxck</h3>
  <ul>
    <li>id: <strong>Jxck</strong></li>
    <li>group: #nodejs_jp</li>
    <li>twitter: <a href="http://twitter.com/Jxck_">Jxck_</a></li>
    <li>blog: <a href="http://d.hatena.ne.jp/Jxck">http://d.hatena.ne.jp/Jxck</a></li>
    <li>tumblr: <a href="http://jxck.tumblr.com/">http://jxck.tumblr.com/</a></li>
    <li>love: music</li>
    <li>writing node.js book now</li>
  </ul>
</section>

<section class="slide">
  <h1>Meteor ?</h1>
</section>

<section class="slide frame">
  <h3><small><a href="http://meteor.com" target="_blank">http://meteor.com</a></small></h3>
  <iframe id="meteor" src="http://meteor.com">http://meteor.com</iframe>
</section>

<section class="slide">
  <h2>Status</h2>
  <ul>
    <li><strong>GPL</strong>(contact us for other Lisence)</li>
    <li>Not LoadMap but Mission</li>
    <li>Under Rapid Dev</li>
    <li>a lot of Starplayer inside</li>
  </ul>
</section>

<style>
#about_meteor {
  font-size: 1.2em;
}
</style>
<section class="slide">
  <h2>about Meteor</h2>
  <h3>A new <strong>Way</strong> to build apps</h3>
  <ul id="about_meteor">
    <li>Pure JavaScript.</li>
    <li>Live page updates.</li>
    <li>Clean, powerful data synchronization.</li>
    <li>Latency compensation.</li>
    <li>Hot Code Pushes.</li>
    <li>Sensitive code runs in a privileged environment.</li>
    <li>Fully self-contained application bundles.</li>
    <li>Interoperability.</li>
    <li>Smart Packages.</li>
  </ul>
</section>


<section class="slide">
  <h1>OK, so what is Meteor?</h1>
  <h3>these makes Meteor</h3>
</section>

<style>
span.white {
  color: #FFFFFF;
}
</style>
<section class="slide">
  <p>I think...</p>
  <h1>Full Stack <span class="white">for</span> Reactive Programming <span class="white">by</span> pub/sub <span class="white">based on</span> WebSocket</h1>
</section>

<section class="slide">
  <h2>Web Socket in Meteor</h2>
  <h3>Using <a href="https://github.com/sockjs/sockjs-client">Sock.js</a></h3>
  <ul>
    <li>WebSocket<small>(connectable from standard WS api)</small></li>
    <li>Fallback to other transport without Flash</li>
    <li>Pass through Proxy</li>
    <li>Cross Browser</li>
    <li>Client for Multi Language</li>
  </ul>
  <p>Simpler API, less feature than Socket.IO</p>
</section>

<section class="slide">
  <h2>Pub/Sub</h2>
  <ul>
    <li>Server Publishes change of Data</li>
    <li>Client Subscribe that too</li>
    <li>WebSockets make it realtime(include server side push)</li>
  </ul>
</section>

<section class="slide">
  <h2>Reactive</h2>
  <h3>change the state with depended state change</h3>
  <ul>
    <li>autosubscribe dose publish/subscribe</li>
    <li>change the data in mongo, send to all client</li>
    <li>change the <strong>binded html</strong>, rerender</li>
    <li>all html are in js</li>
  </ul>
  <p>bind by selector like angular.js way(no data-bind attr like derby.js)</p>
</section>

<section class="slide">
  <h2>Full Stack</h2>
  <h3>meteor includes all of</h3>
  <ul>
    <li>nessesary binary(mongo, node)</li>
    <li>depended package</li>
    <li><span class="orange">server for deploy</span></li>
    <li><strong>COMPLEATLY ALL IN ONE</strong></li>
  </ul>
</section>

<section class="slide">
  <h2>importance at Meteor</h2>
  <ul>
    <li>Isomorphic</li>
    <li>Fiber</li>
    <li>Template</li>
    <li>Reactive</li>
    <li>Hot Code Push</li>
    <li>Conflict</li>
    <li>Package</li>
  </ul>
</section>

<section class="slide">
  <h2>Isomorphic</h2>
  <ul>
    <li>/client is client side script</li>
    <li>is_client, is_server flg</li>
  </ul>
<pre class="sh_javascript">
if (Meteor.is_client) {
  // for client
  Template.hello.events = {};
}

if (Meteor.is_server) {
  // for server
  Meteor.startup(function() {});
}
</pre>
</section>

<section class="slide">
  <h2>Fiber</h2>
  <ul>
    <li><a href="https://github.com/laverdet/node-fibers">node-fibers</a> on npm</li>
    <li><strong>thread per request</strong></li>
    <li>no callback</li>
    <li>server side only</li>
  </ul>
</section>

<!--
<section class="slide">
  <h2>data</h2>
  <ul>
    <li>All API is in Meteor isomolphic(db agnostic)</li>
    <li>Client has in memory cache, copy of master</li>
    <li>subscribe masters change and sync</li>
    <li>I,U,D change to local, send master, callback to client</li>
    <li>conflict =&gt; <strong>last-writer-win</strong></li>
  </ul>
</section>
-->

<section class="slide">
  <h2>Data</h2>
  <ul>
    <li>All API is isomorphic</li>
    <li>Location Transparency</li>
    <li><strong>Client inMemory Cache</strong></li>
    <li>Write DDP for other DB</li>
  </ul>
  <p>You can use any DB but Mongo is better, memory cache has Mongo API</p>
</section>

<section class="slide">
  <h2>Client Cache</h2>
  <ul>
    <li>Copy part of Master data</li>
    <li>Default is Mongo API</li>
    <li>Auto sync to Master</li>
  </ul>
</section>

<section class="slide">
  <h2>Data Flow(<span class="orange"> s/privillage/permission/ </span>)</h2>
  <img src="/public/images/meteor.jpg"></img>
</section>

<section class="slide">
  <h2>Template</h2>
  <ul>
    <li><span class="orange">&lt;head&gt;&lt;body&gt;</span> are concat to html</li>
    <li><span class="orange">&lt;template&gt;</span> is convert to <strong>JS function</strong></li>
    <li>String HTML Rendering Base(not DOM Munipulate Base)</li>
  </ul>
</section>

<section class="slide">
  <h2>Data bind</h2>
  <ul>
    <li>by <strong>Selector</strong>(like Angular.js)</li>
    <li>not by Attributes(like data-bind="" on derby.js)
  </ul>
</section>

<section class="slide">
  <h2>Hot Code Push</h2>
  <ul>
    <li><strong>Realtime Hot Reloading</strong></li>
    <li>change App =&gt; bulild JS =&gt; send client =&gt; update client</li>
    <li>Automatically Update both side</li>
  </ul>
</section>

<style>
#reactive h3 {
  margin-bottom: 0.2em;
}
#reactive ul {
  margin-top: 0em;
  margin-bottom: 0.2em;
}
</style>
<section class="slide">
  <h2>Reactive</h2>
  <div id="reactive">
  <h3><strong>reactive context</strong></h3>
  <ul>
    <li>Meteor.ui.render, Meteor.ui.chunk</li>
    <li>Meteor.autosubscribe</li>
    <li>Templates</li>
  </ul>
  <h3><strong>data source</strong></h3>
  <ul>
    <li>Session</li>
    <li>Collections</li>
    <li>Meteor.status</li>
  </ul>
  <p>also you can <span class="orange">hook</span> via Meteor.deps</p>
  </div>
</section>

<section class="slide">
  <h2>Template Engine</h2>
  <ul>
    <li>Default is <a href="http://handlebarsjs.com/">Handlebar</a></li>
    <li>able to use anything returns renderd string</li>
    <li>(future: precompile)</li>
    <li>statics on /public /client are serve</li>
  </ul>
</section>

<section class="slide">
  <h2>Packages</h2>
  <ul>
    <li><strong>no npm</strong>
    <li>available at /usr/local/meteor/packages</li>
    <li>able to add what you like(in the future?)</li>
  </ul>
</section>

<section class="slide">
  <h1>Dive into Meteor</h1>
</section>

<section class="slide">
  <h2>installing</h2>
  <pre class="sh_sh" id="install">$ curl install.meteor.com | /bin/sh</pre>
  <ul>
    <li>64bit Linux/Unix only</li>
    <li>Downloads Package include <strong>all Binaly</strong>(no build)</li>
    <li>/usr/local/meteor</li>
    <li>add PATH</li>
  </ul>
</section>


<section class="slide">
  <h2>meteor command</h2>
  <pre class="sh_sh" id="install">
$ meteor -h
Usage: meteor [--version] [--help] <command> [<args>]
With no arguments, 'meteor' runs the project in the current
directory in local development mode. You can run it from the root
directory of the project or from any subdirectory.

Use 'meteor create <name>' to create a new Meteor project.
Commands:
   run        [default] Run this project in local development mode
   create     Create a new project
   update     Upgrade to the latest version of Meteor
   add        Add a package to this project
   remove     Remove a package from this project
   list       List available packages
   bundle     Pack this project up into a tarball
   mongo      Connect to the Mongo database for the specified site
   deploy     Deploy this project to Meteor
   logs       Show logs for specified site
   reset      Reset the project state. Erases the local database.

See 'meteor help <command>' for details on a command.
 </pre>
  <p>change ulimit &amp; delegate to /usr/local/meteor/app/meteor/meteor.js</p>
</section>

<section class="slide">
  <h2>meteor command(run)</h2>
  <h3>/usr/local/meteor/app/meteor/run.js</h3>
  <ul>
    <li>check MONGO_URL</li>
    <li>spawn childprocess</li>
    <li>solve dependencies.json?</li>
    <li>looks able to monitoring</li>
  </ul>
  <p>lots of comment like "should this ~~~ ?" :( </p>
</section>

<section class="slide">
  <h2>meteor command(deploy)</h2>
  <h3>/usr/local/meteor/app/meteor/deploy.js</h3>
  <ul>
    <li>deploy to meteor.deploy.com after <strong>bundle</strong></li>
    <li>using RPC</li>
  </ul>
  <p>RPC even able to mongo, log, etc</p>
</section>

<section class="slide">
  <h2>meteor command(bunlde)</h2>
  <h3>/usr/local/meteor/app/meteor/bundle.js</h3>
  <ul>
    <li>render html with <strong>handlebars</strong></li>
    <li>concat <strong>packages</strong></li>
    <li>compless with <strong>uglify.js</strong></li>
    <li>bundled package is <strong>NOMAL NODE.js PROJECT</strong></li>
    <li>U can deploy this to your own server</li>
  </ul>
  <p class="orange">set MONGO_URL &amp; hit main.js</p>
</section>

<section class="slide">
  <h2>bundled html</h2>
<pre>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;link rel="stylesheet" href="/da39a3ee5e6b4b0d3255bfef95601890afd80709.css"&gt;
  &lt;title&gt;leaderboard&lt;/title&gt;
  &lt;script type="text/javascript" src="/09faf43cc8e8695bf7307c4c1dd9d2a9fd71c4c9.js"&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
</section>

<section class="slide">
  <h2>meteor packages</h2>
  <h3>/usr/local/meteor/packages</h3>
  <ul>
    <li>autopublish(built in meteor object)</li>
    <li>livedata / mongo-livedata</li>
    <li>liveui</li>
    <li>meteor</li>
    <li>stream</li>
  </ul>
  <p class="orange">thease are awsome!!</p>
</section>


<section class="slide">
  <h2>awsome at meteor :)</h2>
  <ul>
    <li>easy install</li>
    <li><strong>easy reactive</strong></li>
    <li>easy isomolphic</li>
    <li>easy deploy &amp; publish</li>
  </ul>
</section>

<section class="slide">
  <h2>worried about meteor.. :(</h2>
  <ul>
    <li>package dependencies</li>
    <li>package versioning(direct writing in source)</li>
    <li>debuggable?</li>
    <li>maintainable?</li>
    <li>black box &amp; big enougth to be stray cat's</li>
  </ul>
</section>

<section class="slide">
  <h2>My own opinion</h2>
  <ul>
    <li>Architecture is very meditated</li>
    <li>We can learn a lot from meteor</li>
    <li>But It's too anxiety to use in production from now on</li>
  </ul>
</section>

<section class="slide">
  <h2>All we need is</h2>
  <h1>DataBase Trigger</h1>
</section>

<section class="slide">
  <p>What is the most important in Meteor is...<p>
</section>

<style>
  #big { color: white; font-size: 7em; }
</style>
<section class="slide">
  <h1 id="big">THEY GOT "meteor.com" DOMAIN</h1>
</section>

<section class="slide">
  <h1>anyone.on<br />('uncaughtQuestion?');</h1>
</section>

<section class="slide">
  <h1>May the Node be with you</h1>
</section>

<section class="slide">
  <h1>Jxck.on('end');<p class="small"><span class="mono">// thank you ;) </span></p></h1>
</section>

<!-- Other extension HTML snippets go here, at the bottom of the deck container. -->
<p class="deck-status">
  <span class="deck-status-current"></span>
  /
  <span class="deck-status-total"></span>
  <span class="deck-status-viewer">(0)</span>
</p>

<!-- Update these paths to point to the correct files. -->
<script src="../public/javascripts/jquery-1.6.4.min.js"></script>


<!-- Add any other extension JS files here -->
<!-- <script src="../public/javascripts/deck.core.js"></script> -->
<!-- <script src="../public/extensions/hash/deck.hash.js"></script> -->
<!-- <script src="../public/extensions/menu/deck.menu.js"></script> -->
<!-- <script src="../public/extensions/status/deck.status.js"></script> -->
<script src="../public/javascripts/deck.compiled.js"></script>


<script src="../public/javascripts/sh_main.min.js"></script>
<script src="../public/javascripts/sh_javascript.min.js"></script>
<script src="../public/javascripts/sh_sh.min.js"></script>
<!-- <script src="../public/javascripts/diff_match_patch.js"></script> -->
<script src="/socket.io/socket.io.js"></script>
<!-- <script src="lib/diff_launch.js"></script> -->
<script src="../public/javascripts/client.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    sh_highlightDocument('lang/', '.js');
    sh_highlightDocument('lang/', '.shell');

    var section_height = $('section').height();
    var h3_height = $('h3').height();
    $('#install').height('1em');
    $('iframe').height(section_height - h3_height);
    $.deck('.slide');
  });
</script>
</body>
</html>
