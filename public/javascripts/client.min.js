var log=console.log.bind(console),socket=io.connect();function render(a){this.target=a;this.$target=$(a);this.cache=""}
render.prototype.higlightJS=function(){this.cache=this.cache.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"(.*?)"/g,'<span class="sh_string">"$1"</span>').replace(/'(.*?)'/g,"<span class=\"sh_string\">'$1'</span>").replace(/(var|function|static|true|false)/g,"<span class=sh_keyword>$1</span>").replace(/([A-Za-z0-9]*?)\(/g,"<span class=sh_function>$1</span>(").replace(/^\/\/(.*)/g,'<span class="sh_comment">//$1</span>').replace(/[^:]\/\/(.*)/g,'<span class="sh_comment">//$1</span>').replace(/\/\*\*(.*)/g,
'<span class="sh_comment">/**$1</span>').replace(/\*(.*)/g,'<span class="sh_comment">* $1</span>').replace(/(\d{2,4}?)/g,'<span class="sh_number">$1</span>')};render.prototype.higlightBash=function(){this.cache=this.cache.replace(/(ls|cd|tree|rm|\sexpress\s|npm|\snode\s)/g,"<span class=sh_keyword>$1</span>").replace(/(create)/g,"<span class=sh_number>$1</span>").replace(/(Jxck\$)/g,"<span class=sh_function>$1</span>").replace(/(\d{3,4}?)/g,'<span class="sh_number">$1</span>')};
render.prototype.codeRender=function(){this.target==="#result"?this.higlightBash():this.higlightJS();this.$target.html(this.cache)};render.prototype.htmlRender=function(a){this.$target.html(a)};render.prototype.rawRender=function(a){if(a)this.cache=a;if(a==="")this.cache="";this.codeRender()};
var appRender=new render("#app"),routesRender=new render("#routes"),socketserverRender=new render("#socketserver"),resultRender=new render("#result"),clientRender=new render("#client"),layoutRender=new render("#layout"),indexRender=new render("#index"),empty1Render=new render("#empty1"),empty2Render=new render("#empty2");
socket.on("connect",function(){log("connect");appRender.rawRender("// app.js");routesRender.rawRender("// routes/index.js");socketserverRender.rawRender("// server.js");resultRender.rawRender("");clientRender.rawRender("// public/javascripts/client.js");layoutRender.rawRender("// views/layout.jade");indexRender.rawRender("// views/index.jade");socket.on("go",function(a){$.deck("go",a)});$(document).bind("deck.change",function(a,b,c){b!=c&&socket.emit("go",c)});socket.on("result",function(a){resultRender.cache+=
a;resultRender.codeRender()});socket.on("app",function(a){appRender.rawRender(a)});socket.on("routes",function(a){routesRender.rawRender(a)});socket.on("socketserver",function(a){socketserverRender.rawRender(a)});socket.on("client",function(a){clientRender.rawRender(a)});socket.on("layout",function(a){layoutRender.rawRender(a)});socket.on("index",function(a){indexRender.rawRender(a)});socket.on("review",function(a){a=$("<li>").text(a);$("#review").append(a)});socket.on("empty1",function(a){empty1Render.htmlRender(a)});
socket.on("empty2",function(a){empty2Render.htmlRender(a)});socket.on("viewer",function(a){$("span.deck-status-viewer").text("("+a+")")});socket.on("disconnect",function(){log("disconnected")})});$(function(){var a=$("section").height(),b=$("h2").height(),c=$("h3").height();$("iframe").height(a-c);$("pre.sh_javascript, pre.sh_sh").height(a-b*2);$("pre.half").height(a/2.7);$("pre.full").height(a-b/2);$("#app").height(a*0.7);$("#routes").height(a*0.2)});
